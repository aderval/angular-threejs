!function(){"use strict";function e(e,n,o,t){function r(){a.enableScissorTest(!1),a.setClearColor(0,0)}var a,d=o.defer();return{load:function(){return e.log("THREE.js loading..."),d.promise},getRenderer:function(){return r(),a}}}e.$inject=["$log","$document","$q","$rootScope"],angular.module("threejs",[]),angular.module("threejs").factory("THREEService",e)}(),function(){"use strict";function e(e,n,o,t){var r={loaded:[]};return{load:function(n){var t=this,a=[];return angular.forEach(n,function(e,n){for(var o=!0,d=r.loaded.length-1;d>=0;d--)r.loaded[n]==e&&(o=!1);if(o){var u=t.add(e);a.push(u)}}),o.all(a).then(function(n){return n.length>0&&e.info("THREE.js plugins loaded: "+n),window.THREE})},add:function(a){function d(){t.$apply(function(){r.loaded.push(a),e.debug(r.loaded),u.resolve(a)})}var u=o.defer(),l=n[0].createElement("script");l.type="text/javascript",l.src="assets/js/"+a+".js",l.async=!0,l.onreadystatechange=function(){"complete"==this.readyState&&d()},l.onload=d;var i=n[0].getElementsByTagName("body")[0];return i.appendChild(l),u.promise},remove:function(n){angular.forEach(r.loaded,function(o,t){o==n&&(r.loaded[t].pop(),e.info("THREE.js plugin "+n+" removed."))})}}}e.$inject=["$log","$document","$q","$rootScope"],angular.module("threejs").factory("THREEPlugins",e)}(),function(){"use strict";function e(e,n,o,t,r){var a={loaded:[]};return{load:function(e){n.debug(e);var o=this,r=[];return angular.forEach(e,function(e,n){for(var t=!0,d=a.loaded.length-1;d>=0;d--)a.loaded[n]==e&&(t=!1);if(t){var u=o.add(n,e);r.push(u)}}),t.all(r).then(function(e){return e.length>0&&n.debug("Images loaded: "+e),window.THREE})},add:function(e,o){var d=t.defer(),u=new THREE.LoadingManager;u.onProgress=function(e,o,t){n.debug(e,o,t)},u.onLoad=function(){r.$apply(function(){d.resolve(o)})};var l=new THREE.Texture,i=function(e){if(e.lengthComputable){var o=e.loaded/e.total*100;n.debug(Math.round(o,2)+"% downloaded")}},c=function(e){},f=new THREE.TextureLoader(u);return f.load(o,function(n){l=n,l.name=e,a.loaded.push(l)},i,c),d.promise},remove:function(e){angular.forEach(a.loaded,function(o,t){o==e&&(a.loaded[t].pop(),n.info("Removed "+e+" texture."))})},get:function(e){var o,t;if(void 0!==e||e!==!1)for(var r=a.loaded.length-1;r>=0;r--)a.loaded[r].name===e&&(o=a.loaded[r],t=!0,n.info('Texture "'+e+'" found!'));return t||(o=a.loaded[0],n.warn('Texture "'+e+'" not found: returning "'+o.name+'."')),n.debug(o),o}}}e.$inject=["THREEService","$log","$document","$q","$rootScope"],angular.module("threejs").factory("THREETextures",e)}();